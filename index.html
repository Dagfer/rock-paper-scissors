<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="styles.css">
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
      <div id = 'container'>
        <div id ="scoreboard">

        </div>
        <div id ='score'>

        </div>
        <div id ='buttondiv'>
         <button id="rock">I choose rock!</button>
         <button id="paper">I choose paper!</button>
         <button id="scissors">Scissors! I choose you!</button>
        </div>
      </div>
        <script>
          function getComputerChoice(computerSelection){
            let randomIntInclusive = function(min, max) {
            min = Math.ceil(1);
            max = Math.floor(3);
            return Math.floor(Math.random() * (max - min + 1) + min);
          }
            if (randomIntInclusive() === 1){
              computerSelection = "rock";
            }
          else if (randomIntInclusive() === 2){
            computerSelection = "paper";
          } else {
            computerSelection = "scissors";
          }

          return computerSelection;

        }
        // function playerPrompt(playerSelection){
        //   playerSelection = prompt("Choose your fighter: Rock, Paper or Scissors?", "").toLowerCase();
        //   console.log("You chose" + " " + playerSelection);
        //   return playerSelection;
        // }

       function playRound(playerSelection, computerSelection) {

          if (playerSelection === computerSelection){
            document.querySelector('#scoreboard').textContent = "it's a draw! You both made the same choice.";
            console.log ("it's a draw! ");
            return "Draw";
          }
          else if (playerSelection === "scissors" && computerSelection === "paper"){
            document.querySelector('#scoreboard').textContent = "You win! Scissor beats paper!";
            console.log("You win! Cut me to ribbons...");
            return "Player Wins!";
          }
          else if (playerSelection === "paper" && computerSelection === "rock"){
            document.querySelector('#scoreboard').textContent = "You win! Gobbled me up..."
            console.log ("You win! Gobbled me up...");
            return "Player Wins!";
          }
          else if (playerSelection === "rock" && computerSelection === "scissors"){
            document.querySelector('#scoreboard').textContent ="You win! Smashed me to bits..."
            console.log ("You win! Smashed me to bits...");
            return "Player Wins!";
          }
          else if (playerSelection === "rock" && computerSelection === "paper"){
            document.querySelector('#scoreboard').textContent ="You lose! Paper beats rock."
            console.log ("You lose! Paper beats rock.");
            return "Computer Wins!";
          }
          else if (playerSelection === "scissors" && computerSelection === "rock"){
            document.querySelector('#scoreboard').textContent ="You lose! Rock beats scissors."
            console.log ("You lose! Rock beats scissors.");
            return "Computer Wins!";
          }
          else if (playerSelection === "paper" && computerSelection === "scissors"){
            document.querySelector('#scoreboard').textContent = "You lose! Scissors beat paper."
            console.log ("You lose! Scissors beat papers.");
            return "Computer Wins!";
          }


        }
        let playerScore = 0;
        let computerScore = 0;

        function keepScore(round){
          if (round === "Draw"){
            playerScore == computerScore;
            document.querySelector('#score').textContent = "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
            return "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
          }
          else if (round === "Computer Wins!"){
            computerScore === ++computerScore;
            document.querySelector('#score').textContent = "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
            return "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
          }
          else if (round === "Player Wins!"){
            playerScore === ++playerScore;
            document.querySelector('#score').textContent = "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
            return "Player: " + playerScore + " " + "-" + " " + "Computer: " + computerScore;
          }
          else {
            console.log ("Does not compute.");
          }
        }
         function resetScores(){
          scoreArray = [0, 0];
          [playerScore, computerScore] = scoreArray; 
          return scoreArray;
           } 
           
        function declareWinner(){
          const scoreboard = document.querySelector('#scoreboard');
          const declareVictor = document.createElement('span');
          declareVictor.setAttribute('id', 'chicken-dinner');
          scoreboard.appendChild(declareVictor);

          if (playerScore >= 5 || computerScore >= 5){
            document.querySelector('#scoreboard').textContent = 'Final score!';
            resetScores();
          }

          if (playerScore > computerScore){
            
            document.querySelector('#chicken-dinner').textContent = "Player Advantage!";
            
          }
          else if (playerScore < computerScore){
          
            document.querySelector('#chicken-dinner').textContent = "Computer Winning!";
          }
          else if (playerScore != 0 && computerScore !=0 && playerScore === computerScore) {
            document.querySelector('#chicken-dinner').textContent ="It's a tie!?";
          }

        }
const rockButton = document.querySelector('#rock');
const paperButton = document.querySelector('#paper');
const scissorButton = document.querySelector('#scissors');
const btnDiv = document.querySelector('#buttondiv');
const deleteBtn = document.createElement('button');
deleteBtn.setAttribute('id', 'delete-button');
deleteBtn.textContent = 'Clear scoreboard';
btnDiv.appendChild(deleteBtn);
deleteBtn.addEventListener('click', () => {
  document.querySelector('#score').textContent = '';
  document.querySelector('#scoreboard').textContent = '';
  resetScores();
            } )
function pickRock() {
  const computerSelection = getComputerChoice();
  getComputerChoice();
  let round = playRound('rock', computerSelection);
  keepScore(round);
  declareWinner();
}
function pickPaper() {
  const computerSelection = getComputerChoice();
  getComputerChoice();
  let round = playRound('paper', computerSelection);
  keepScore(round);
  declareWinner();
}
function pickScissors() {
  const computerSelection = getComputerChoice();
  getComputerChoice();
  let round = playRound('scissors', computerSelection);
  keepScore(round);
  declareWinner();
}


rockButton.addEventListener('click', pickRock);
paperButton.addEventListener('click',pickPaper);
scissorButton.addEventListener('click', pickScissors);



//try using e.target to link buttons with scoreboard manipulations?
        </script>
    </body>
</html>